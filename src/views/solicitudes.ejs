<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>.
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
          crossorigin="anonymous">

</head>

<body>
<%- include('partials/header.ejs') %>
<h1>Solicitudes</h1>
<% if (integraciones) { %>
    <h2>Integraciones</h2>
    <% for(var i=0; i<integraciones.length; i++) {%>
<div id="solicitud">
    <p>Solicitante : <%= integraciones[i].solicitante %>  <a href="/solicitudes/<%= integraciones[i]._id%>/fillIntegracion"><button class="btn btn-primary">Editar</button></a>
        <a href="/delete/<%= integraciones[i]._id%>"><button class="btn btn-danger">Eliminar</button></a>
    </p>
    <a href="/detail/integracion/<%= integraciones[i]._id%>">
        <table class="table table-striped table-bordered table-hover">
            <thead class="thead-dark">
            <tr>
                <th>central</th>
                <th>MIGA</th>
                <th>OLT</th>
                <th>Agregador</th>
                <th>DN</th>
                <th>POP</th>
            </tr>
            </thead>
            <tbody>
            <% if (integraciones[i].integraciones.length > 0) { %>
                <% for(var j=0; j<integraciones[i].integraciones.length; j++) {%>
                        <tr>
                            <td><%= integraciones[i].integraciones[j].central %></td>
                            <td><%= integraciones[i].integraciones[j].MIGA  %></td>
                            <td><%= integraciones[i].integraciones[j].OLT%></td>
                            <td><%= integraciones[i].integraciones[j].agregador %></td>
                            <td><%= integraciones[i].integraciones[j].DN %></td>
                            <td><%= integraciones[i].integraciones[j].POP %></td>
                        </tr>

                <% } %>
            <% } %>
            </tbody>
        </table>
    </a>
</div>
<% } %>
<% } %>


<% if (migraciones) { %>
    <h2>Migraciones</h2>
    <% for(var i=0; i<migraciones.length; i++) {%>
        <div id="solicitud">
            <p>Solicitante : <%= migraciones[i].solicitante %>  <a href="/solicitudes/<%= migraciones[i]._id%>/fillMigracion"><button class="btn btn-primary">Editar</button></a>
                <a href="/delete/<%= migraciones[i]._id%>"><button class="btn btn-danger">Eliminar</button></a>
            </p>
            <a href="/detail/migracion/<%= migraciones[i]._id%>">
                <table class="table table-striped table-bordered table-hover">
                    <thead class="thead-dark">
                    <tr>
                        <th>central</th>
                        <th>MIGA</th>
                        <th>OLT</th>
                        <th>DN origen</th>
                        <th>DN destino</th>
                        <th>POP origen</th>
                        <th>POP destino</th>
                        <th>Agregador origen</th>
                        <th>Agregador destino</th>
                    </tr>
                    </thead>
                    <tbody>
                    <% if (migraciones[i].migraciones.length > 0) { %>
                        <% for(var j=0; j<migraciones[i].migraciones.length; j++) {%>
                            <tr>
                                <td><%= migraciones[i].migraciones[j].central %></td>
                                <td><%= migraciones[i].migraciones[j].MIGA  %></td>
                                <td><%= migraciones[i].migraciones[j].OLT%></td>
                                <td><%= migraciones[i].migraciones[j].DN_origen %></td>
                                <td><%= migraciones[i].migraciones[j].DN_destino %></td>
                                <td><%= migraciones[i].migraciones[j].POP_origen %></td>
                                <td><%= migraciones[i].migraciones[j].POP_destino %></td>
                                <td><%= migraciones[i].migraciones[j].agregador_origen %></td>
                                <td><%= migraciones[i].migraciones[j].agregador_destino %></td>
                            </tr>

                        <% } %>
                    <% } %>
                    </tbody>
                </table>
            </a>
        </div>
    <% } %>
<% } %>


<%- include('partials/footer.ejs') %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous"></script>
</body>
</html>
